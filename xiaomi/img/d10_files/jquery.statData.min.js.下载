!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(module,exports,__webpack_require__){md5=__webpack_require__(2),__webpack_require__(3),document.querySelectorAll||(document.querySelectorAll=function(e){var t,n=document.createElement("style"),o=[];for(document.documentElement.firstChild.appendChild(n),document._qsa=[],n.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),n.parentNode.removeChild(n);document._qsa.length;)t=document._qsa.shift(),t.style.removeAttribute("x-qsa"),o.push(t);return document._qsa=null,o}),~function($){"use strict";function getPcid(){var e=/\/(index.php|index.html|index.htm|index)$/,t=location.protocol+"//",n=location.host,o=location.pathname.replace(e,"/"),r=t+n+o;return md5("undefined"!=typeof _STAT_HASHNAME&&""!=_STAT_HASHNAME?_STAT_HASHNAME:r)}function getCookie(e){for(var t=document.cookie,n=removeBlanks(t),o=n.split(";"),r=0;r<o.length;r++){var i=o[r].split("=");if(i.length>1&&i[0]==e)return i[1]}return""}function removeBlanks(e){for(var t="",n=0;n<e.length;n++){var o=e.charAt(n);" "!=o&&(t+=o)}return t}function getRandomNum(){return Math.round(2147483647*Math.random())}function getVistor(e){var t=getCookie("xm_vistor"),n=!0,o="",r=0,i=(new Date).getTime();if(""!==t){var a=t.split("-");2==a.length&&(o=a[0],r=a[1],18e5>=i-r&&(n=!1))}return n&&(o=e+"_"+i),r=i,o}function getMstuid(){var e=new Date,t=e.getTime()+"_"+Math.round(1e4*Math.random());return t}function uuid(e,t){var n,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];if(t=t||o.length,e)for(n=0;e>n;n++)r[n]=o[0|Math.random()*t];else{var i;for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",n=0;36>n;n++)r[n]||(i=0|16*Math.random(),r[n]=o[19==n?3&i|8:i])}return r.join("")}function getDomain(){var e=window.location.hostname,t=e.split(".");size=t.length;var n="."+t[size-2]+"."+t[size-1];return n}function getLanguage(){return navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage}function getVendor(){return navigator.vendor}function getPlatform(){return navigator.platform}function getScreen(){return screen.width+"*"+screen.height}function getVars(){var e="";if(vars==[])return"";for(var t in vars)e+="&"+t+"="+encodeURIComponent(vars[t]);return e}function getBaseParam(){var e=document.location.href.replace(/&/g,"|"),t=document.referrer.replace(/&/g,"|");if(t=t.toLowerCase()){getRefDomain(t),getCookie("lastsource")}var n=getCookie("xm_www_sid"),o=getCookie("mstuid"),r=getCookie("muuid"),i=getCookie("mucid"),a=getCookie("mutid"),s=getCookie("mstz")||"";if(""===s||s.split("|").length<3){var l=[];l[0]="",l[1]="",l[2]=getRandomNum().toString()+".0";{l.join("|")}}s=getCookie("mstz");var u=s.split("|")||[],c=(4==u.length?0:1,u[0]||""),d=u[1]||"",p=[];p=u[2].split(".");var m=p[0],h=parseInt(p[1])+1;u[2]=p[0]+"."+h.toString();var g=u[3]||"",f=u[4]||"",v=u[5]||"",_=0,w=encodeURIComponent(t);""==w&&(f="",v=""),w!=f&&e!=t?(v=f,f=w):""!=w&&(_=1),u[3]=g,u[4]=f,u[5]=v;var y=getCookie("lastsource"),S=0,L=new Date;L.setTime(L.getTime()+62208e6),""===o&&(S=1,o=getMstuid());var x="",C=new Date;vars.curl=location.href,vars.xmv=getVistor(o),vars.v="1.4.09",void 0===vars.vuuid&&(vars.vuuid=uuid(16,32));var E=getCookie("userId"),T="";return isApp&&(E||(E=triggerString("get_encrypt_uid")),T=triggerString("get_shop_deviceid")),x="mid="+(getCookie("euid")||E)+"&device_id="+T+"&phpsessid="+n+"&mstuid="+o+"&muuid="+r+"&mucid="+i+"&sessionId="+m+"&step="+h+"&new_visitor="+S+"&mstprevpid="+encodeURIComponent(c)+"&mstprev_pid_loc="+g+"&prevtarget="+d+"&lastsource="+y+"&timestamp="+C.getTime()+"&ref="+w+"&domain="+getDomain()+"&screen="+getScreen()+"&language="+getLanguage()+"&vendor="+getVendor()+"&platform="+getPlatform()+"&gu="+v+"&pu="+f+"&rf="+_+"&mutid="+a+"&muwd="+encodeURIComponent(getCookie("muwd"))}function _init(){_isInitialized||(_defaultSettings={elements_selector:"img",container:window,threshold:300,throttle:300,skip_invisible:!0,callback_load:null,callback_error:null,callback_set:null,callback_processed:null},_supportsAddEventListener=!!window.addEventListener,_supportsAttachEvent=!!window.attachEvent,_supportsClassList=!!document.body.classList,_isInitialized=!0)}function _addEventListener(e,t,n){return _supportsAddEventListener?void e.addEventListener(t,n):void(_supportsAttachEvent&&(e.attachEvent("on"+t,function(e){return function(){n.call(e,window.event)}}(e)),e=null))}function _removeEventListener(e,t,n){return _supportsAddEventListener?void e.removeEventListener(t,n):void(_supportsAttachEvent&&e.detachEvent("on"+t,n))}function _isInsideViewport(e,t,n){function o(){return window.innerWidth||d.documentElement.clientWidth||document.body.clientWidth}function r(){return window.innerHeight||d.documentElement.clientHeight||document.body.clientHeight}function i(e){return e.getBoundingClientRect().top+p-d.documentElement.clientTop}function a(e){return e.getBoundingClientRect().left+m-d.documentElement.clientLeft}function s(){var o;return o=t===window?r()+p:i(t)+t.offsetHeight,o<=i(e)-n}function l(){var r;return r=t===window?o()+window.pageXOffset:a(t)+o(),r<=a(e)-n}function u(){var o;return o=t===window?p:i(t),o>=i(e)+n+e.offsetHeight}function c(){var o;return o=t===window?m:a(t),o>=a(e)+n+e.offsetWidth}var d,p,m;return d=e.ownerDocument,p=window.pageYOffset||d.body.scrollTop,m=window.pageXOffset||d.body.scrollLeft,!(s()||u()||l()||c())}function _now(){var e=new Date;return e.getTime()}function _merge_objects(e,t){var n,o={};for(n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);return o}function _convertToArray(e){try{return Array.prototype.slice.call(e)}catch(t){var n,o=[],r=e.length;for(n=0;r>n;n++)o.push(e[n]);return o}}function _bind(e,t){return function(){return e.apply(t,arguments)}}function LazyLoad(e){_init(),this._settings=_merge_objects(_defaultSettings,e),this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._handleScrollFn=_bind(this.handleScroll,this),_addEventListener(window,"resize",this._handleScrollFn),this.update()}function getRefDomain(e){var t=document.createElement("a");return t.href=e,t.hostname}var _defaultSettings,_supportsAddEventListener,_supportsAttachEvent,_supportsClassList,_isInitialized=!1,exposure=null,msf=function(){this.p=[]};msf.prototype.push=function(e){return"function"==typeof e[0]?void e[0](e.slice(1)):void(("setDomainId"==e[0]||"setVars"==e[0])&&this[e[0]](e.slice(1)))},msf.prototype.setVars=function(e){vars[e[0]]=e[1]},msf.prototype.setDomainId=function(e){vars.domain_id=e[0]};var _msf=new msf;_msf.p=window._msq.p;var initMsq=function(){for(i=0;i<_msf.p.length;i++)_msf.push(_msf.p[i])},vars=[];initMsq();var userAgent=navigator.userAgent.toLowerCase(),_we=window.WE||{},isApp=function(){return"undefined"!=typeof WE&&-1!==userAgent.indexOf("xiaomi/miuibrowser/4.3/shop")&&-1===userAgent.indexOf("iphone")?!0:!1}(),triggerString=function(e){return _we.triggerString&&_we.triggerString(e,"")||""};LazyLoad.prototype._loopThroughElements=function(){var i,element,settings=this._settings,elements=this._elements,elementsLength=elements?elements.length:0,insideLogs=[],insideLogCodes=[],logValue="",logCodeValue="",processedIndexes=[];for(i=0;elementsLength>i;i++)element=elements[i],settings.skip_invisible&&null===element.offsetParent||_isInsideViewport(element,settings.container,settings.threshold)&&((logValue=element.getAttribute("data-log_code"))&&(insideLogs.push(logValue),(logCodeValue=element.getAttribute("onclick"))&&(logCodeValue=eval(logCodeValue.replace("_msq.push","")),5==logCodeValue.length&&insideLogCodes.push(logCodeValue[1]))),processedIndexes.push(i),element.wasProcessed=!0);for(insideLogs.length&&this._sendData(insideLogCodes.join(";"),encodeURIComponent(insideLogs.join(";")));processedIndexes.length>0;)elements.splice(processedIndexes.pop(),1),settings.callback_processed&&settings.callback_processed(elements.length);0===elementsLength&&this._stopScrollHandler()},LazyLoad.prototype._sendData=function(e,t){vars.pageid=getPcid();var n=getBaseParam(),o=getVars(),r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="//a.stat.xiaomi.com/js/mstr.js?"+n+o+"&type=sp&logs="+e+"&log_codes="+t;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)},LazyLoad.prototype._purgeElements=function(){var e,t,n=this._elements,o=n.length,r=[];for(e=0;o>e;e++)t=n[e],t.wasProcessed&&r.push(e);for(;r.length>0;)n.splice(r.pop(),1)},LazyLoad.prototype._startScrollHandler=function(){this._isHandlingScroll||(this._isHandlingScroll=!0,_addEventListener(this._settings.container,"scroll",this._handleScrollFn))},LazyLoad.prototype._stopScrollHandler=function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,_removeEventListener(this._settings.container,"scroll",this._handleScrollFn))},LazyLoad.prototype.handleScroll=function(){var e,t,n;this._settings&&(t=_now(),n=this._settings.throttle,0!==n?(e=n-(t-this._previousLoopTime),0>=e||e>n?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=t,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(_bind(function(){this._previousLoopTime=_now(),this._loopTimeout=null,this._loopThroughElements()},this),e))):this._loopThroughElements())},LazyLoad.prototype.update=function(){this._elements=_convertToArray(this._queryOriginNode.querySelectorAll(this._settings.elements_selector)),this._purgeElements(),this._loopThroughElements(),this._startScrollHandler()},LazyLoad.prototype.destroy=function(){_removeEventListener(window,"resize",this._handleScrollFn),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null};var defaults={propertyName:"data-stat-id",urlParam:"stat",needMap:!0,domain:".mi.com",live:!1},_Options,_Global={parentLoop:!1,sonLoop:!1,drawDataScript:"http://c1.mifile.cn/f/i/15/stat/js/jquery.dataDraw.min.js",jquerySource:"http://s01.mifile.cn/js/lib/jquery.min.js",re:{normalEnd:/\/(index.php|index.html|index.htm|index)$/,snapshotModalDate:/^(\/\d{10}\/)/,snapshotModalEnd:/.html$/},locationObj:{protocol:location.protocol+"//",host:location.host,pathname:location.pathname}},linksignCommon={isSnapshotModal:function(){return"file.stat.be.xiaomi.com"==location.host?!0:!1},hashSnapshotModal:function(){return _Global.locationObj.protocol+location.pathname.replace(_Global.re.snapshotModalDate,"").replace(_Global.re.snapshotModalEnd,"").replace(_Global.re.normalEnd,"/")},getPageHash:function(){var e=_Global.locationObj;e.pathname=e.pathname.replace(_Global.re.normalEnd,"/");var t=this.isSnapshotModal()?this.hashSnapshotModal():objectValues(e,"");return md5("undefined"!=typeof _STAT_HASHNAME&&""!=_STAT_HASHNAME?_STAT_HASHNAME:t)},isOpenCanvas:function(){return _Options.needMap&&getLocationName(_Options.urlParam,"search")&&"true"==getLocationName(_Options.urlParam,"search")?!0:!1},trim:function(e){try{return e.replace(/\s/g,"")}catch(t){return e}},appendStatModal:function(e){var t=linksignCommon.trim(e.attr("href"))||"";if(this.isOpenCanvas()&&-1!=t.indexOf("/")&&(-1==t.indexOf("http")||-1!=t.indexOf(_Options.domain))){var n,o=(_Options.urlParam+"=true",{hashName:t.split("#"),searchName:t.split("?")});if(this.isSnapshotModal()){var r=o.searchName[0].replace("http://",""),i=location.pathname.replace(_Global.re.snapshotModalDate,"").replace(_Global.re.snapshotModalEnd,"");n=location.href.replace(i,r)}else n=o.hashName[1]?o.hashName[0]+"?"+_Options.urlParam+"=true#"+o.hashName[1]:o.searchName[1]?t+"&"+_Options.urlParam+"=true":t+"?"+_Options.urlParam+"=true";e.attr("href",n)}}},loadScript=function(e,t){var n,o=document.head||document.getElementsByTagName("head")[0]||document.documentElement;n=document.createElement("script"),n.async="async",n.src=e,n.onload=n.onreadystatechange=function(){(!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,o&&n.parentNode&&o.removeChild(n),n=void 0,t())},o.insertBefore(n,o.firstChild)},linkDataSign=function(){loadScript(_Global.drawDataScript,function(e,t,n){$("body").linkSigntoDraw({pageID:linksignCommon.getPageHash()})})},getLocationName=function(e,t){var n="",o=!1,r="hash"==t?location.hash:location.search,i="hash"==t?"#":"?";if(0===r.length)return n;if(0==r.indexOf(i)&&r.indexOf("=")>1)for(var a=r.substring(1,r.length).split("&"),s=0;s<a.length&&!o;)a[s].indexOf("=")>0&&a[s].split("=")[0].toLowerCase()==e.toLowerCase()&&(n=a[s].split("=")[1],o=!0),s++;return n},_setAttrs=function(e,t,n){var o=$(e).hasClass("J_linksign-customize"),r=o?$(e).children():$(e).find("a"),i={page:linksignCommon.getPageHash(),point:null},a=r.length-1,s=linksignCommon.isOpenCanvas();t===n&&(_Global.parentLoop=!0),r.each(function(e,n){if("true"!=$(n).attr("data-stat-exclude")){var r=linksignCommon.trim($(n).attr("href"))||$(n).attr("data-stat-productid")||"",l=linksignCommon.trim($(n).text()),u=$(n).parent().parent().attr("class")||$(n).parent().parent().parent().attr("class")||"",c=t+""+e,d=$(n).attr("data-stat-aid"),p=$(n).attr("data-stat-pid"),m=$(n).attr("data-log_code")||"";r=-1!==r.indexOf(_Options.domain)?r.split("?")[0]:r;var h=r+l+u;h=o?h+c:h,i.point=p?d+"+"+p:md5(h);var g=$(n).attr("onclick")||"",f=_trackEvent(objectValues(i,"-"),r,m),v=f+g;$(n).attr(_Options.propertyName)||$(n).attr(_Options.propertyName,i.point).attr("onclick",v),linksignCommon.appendStatModal($(n)),_Global.parentLoop===!0&&e===a&&s&&(_Global.sonLoop=!0,linkDataSign())}})},_trackEvent=function(e,t,n){var o=xmstTools.stripscript("'trackEvent', '"+e+"', '"+t+"', 'pcpid', '"+n+"'");return"_msq.push(["+o+"]);"},objectValues=function(e,t){var n=[];if("undefined"!=typeof e)for(var o in e){var r=e[o];r=null==r||""==r?"00":r,n.push(r)}return n.join(t)};$.fn.linkSign=function(e){_Options=$.extend(defaults,e);var t=this.length-1;this.each(function(e,n){_setAttrs(this,e,t)}),exposure?exposure.update():exposure=new LazyLoad({elements_selector:".exposure"})},$(function(){$("body,.J_linksign-customize").linkSign()})}(window.jQuery||Zepto)},function(e,t,n){var o;!function(r){"use strict";function i(e,t){var n=(65535&e)+(65535&t),o=(e>>16)+(t>>16)+(n>>16);return o<<16|65535&n}function a(e,t){return e<<t|e>>>32-t}function s(e,t,n,o,r,s){return i(a(i(i(t,e),i(o,s)),r),n)}function l(e,t,n,o,r,i,a){return s(t&n|~t&o,e,t,r,i,a)}function u(e,t,n,o,r,i,a){return s(t&o|n&~o,e,t,r,i,a)}function c(e,t,n,o,r,i,a){return s(t^n^o,e,t,r,i,a)}function d(e,t,n,o,r,i,a){return s(n^(t|~o),e,t,r,i,a)}function p(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;var n,o,r,a,s,p=1732584193,m=-271733879,h=-1732584194,g=271733878;for(n=0;n<e.length;n+=16)o=p,r=m,a=h,s=g,p=l(p,m,h,g,e[n],7,-680876936),g=l(g,p,m,h,e[n+1],12,-389564586),h=l(h,g,p,m,e[n+2],17,606105819),m=l(m,h,g,p,e[n+3],22,-1044525330),p=l(p,m,h,g,e[n+4],7,-176418897),g=l(g,p,m,h,e[n+5],12,1200080426),h=l(h,g,p,m,e[n+6],17,-1473231341),m=l(m,h,g,p,e[n+7],22,-45705983),p=l(p,m,h,g,e[n+8],7,1770035416),g=l(g,p,m,h,e[n+9],12,-1958414417),h=l(h,g,p,m,e[n+10],17,-42063),m=l(m,h,g,p,e[n+11],22,-1990404162),p=l(p,m,h,g,e[n+12],7,1804603682),g=l(g,p,m,h,e[n+13],12,-40341101),h=l(h,g,p,m,e[n+14],17,-1502002290),m=l(m,h,g,p,e[n+15],22,1236535329),p=u(p,m,h,g,e[n+1],5,-165796510),g=u(g,p,m,h,e[n+6],9,-1069501632),h=u(h,g,p,m,e[n+11],14,643717713),m=u(m,h,g,p,e[n],20,-373897302),p=u(p,m,h,g,e[n+5],5,-701558691),g=u(g,p,m,h,e[n+10],9,38016083),h=u(h,g,p,m,e[n+15],14,-660478335),m=u(m,h,g,p,e[n+4],20,-405537848),p=u(p,m,h,g,e[n+9],5,568446438),g=u(g,p,m,h,e[n+14],9,-1019803690),h=u(h,g,p,m,e[n+3],14,-187363961),m=u(m,h,g,p,e[n+8],20,1163531501),p=u(p,m,h,g,e[n+13],5,-1444681467),g=u(g,p,m,h,e[n+2],9,-51403784),h=u(h,g,p,m,e[n+7],14,1735328473),m=u(m,h,g,p,e[n+12],20,-1926607734),p=c(p,m,h,g,e[n+5],4,-378558),g=c(g,p,m,h,e[n+8],11,-2022574463),h=c(h,g,p,m,e[n+11],16,1839030562),m=c(m,h,g,p,e[n+14],23,-35309556),p=c(p,m,h,g,e[n+1],4,-1530992060),g=c(g,p,m,h,e[n+4],11,1272893353),h=c(h,g,p,m,e[n+7],16,-155497632),m=c(m,h,g,p,e[n+10],23,-1094730640),p=c(p,m,h,g,e[n+13],4,681279174),g=c(g,p,m,h,e[n],11,-358537222),h=c(h,g,p,m,e[n+3],16,-722521979),m=c(m,h,g,p,e[n+6],23,76029189),p=c(p,m,h,g,e[n+9],4,-640364487),g=c(g,p,m,h,e[n+12],11,-421815835),h=c(h,g,p,m,e[n+15],16,530742520),m=c(m,h,g,p,e[n+2],23,-995338651),p=d(p,m,h,g,e[n],6,-198630844),g=d(g,p,m,h,e[n+7],10,1126891415),h=d(h,g,p,m,e[n+14],15,-1416354905),m=d(m,h,g,p,e[n+5],21,-57434055),p=d(p,m,h,g,e[n+12],6,1700485571),g=d(g,p,m,h,e[n+3],10,-1894986606),h=d(h,g,p,m,e[n+10],15,-1051523),m=d(m,h,g,p,e[n+1],21,-2054922799),p=d(p,m,h,g,e[n+8],6,1873313359),g=d(g,p,m,h,e[n+15],10,-30611744),h=d(h,g,p,m,e[n+6],15,-1560198380),m=d(m,h,g,p,e[n+13],21,1309151649),p=d(p,m,h,g,e[n+4],6,-145523070),g=d(g,p,m,h,e[n+11],10,-1120210379),h=d(h,g,p,m,e[n+2],15,718787259),m=d(m,h,g,p,e[n+9],21,-343485551),p=i(p,o),m=i(m,r),h=i(h,a),g=i(g,s);return[m,h]}function m(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function h(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function g(e){return m(p(h(e),8*e.length))}function f(e,t){var n,o,r=h(e),i=[],a=[];for(i[15]=a[15]=void 0,r.length>16&&(r=p(r,8*e.length)),n=0;16>n;n+=1)i[n]=909522486^r[n],a[n]=1549556828^r[n];return o=p(i.concat(h(t)),512+8*t.length),m(p(a.concat(o),640))}function v(e){var t,n,o="0123456789abcdef",r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+=o.charAt(t>>>4&15)+o.charAt(15&t);return r}function _(e){return unescape(encodeURIComponent(e))}function w(e){return g(_(e))}function y(e){return v(w(e))}function S(e,t){return f(_(e),_(t))}function L(e,t){return v(S(e,t))}function x(e,t,n){return t?n?S(t,e):L(t,e):n?w(e):y(e)}o=function(){return x}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))}(this)},function(e,t){xmstTools=function(){function e(){var e=navigator.userAgent.toLowerCase();return"undefined"!=typeof WE&&-1!==e.indexOf("xiaomi/miuibrowser/4.3/shop")&&-1===e.indexOf("iphone")?!0:!1}function t(e){var t=window.WE||{};return t.triggerString&&t.triggerString(e,"")||""}function n(){var e=window.location.hostname,t=e.split(".");size=t.length;var n="."+t[size-2]+"."+t[size-1];return n}function o(){return navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage}function r(){return navigator.vendor}function i(){return navigator.platform}function a(){return screen.width+"*"+screen.height}function s(e,t,n,o){var r=arguments.length,i=new Date;i.setTime(i.getTime()+31104e6),document.cookie=3===r?e+"="+t+";path=/;domain="+n:e+"="+t+";path=/;domain="+n+";expires="+o}function l(e){for(var t=document.cookie,n=u(t),o=n.split(";"),r=0;r<o.length;r++){var i=o[r].split("=");if(i.length>1&&i[0]===e)return i[1]}return""}function u(e){for(var t="",n=0;n<e.length;n++){var o=e.charAt(n);" "!==o&&(t+=o)}return t}function c(e){try{return e.replace(/\s/g,"")}catch(t){return e}}function d(e){return e.round(2147483647*e.random())}function p(e){var t=document.createElement("a");return t.href=e,t.hostname}function m(){var e=new Date,t=e.getTime()+"_"+Math.round(1e4*Math.random());return t}function h(e){var t="";if(e===[])return"";for(var n in e)t+="&"+n+"="+encodeURIComponent(e[n]);return t}function g(e){w(e)}function f(e){return"function"==typeof e}function v(e,t){var n,o=document.head||document.getElementsByTagName("head")[0]||document.documentElement;n=document.createElement("script"),n.async="async",n.src=e,n.onload=n.onreadystatechange=function(){(!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,o&&n.parentNode&&o.removeChild(n),n=void 0,t())},o.insertBefore(n,o.firstChild)}function _(e,t){for(var n in t)if(t[n]==e)return!0;return!1}function w(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}function y(e){var t=l("xm_vistor"),o=!0,r="",i=0,a=(new Date).getTime();if(""!==t){var u=t.split("-");2==u.length&&(r=u[0],i=u[1],18e5>=a-i&&(o=!1))}return o&&(r=e+"_"+a),i=a,s("xm_vistor",r+"-"+i,n()),r}function S(e,t){var n,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];if(t=t||o.length,e)for(n=0;e>n;n++)r[n]=o[0|Math.random()*t];else{var i;for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",n=0;36>n;n++)r[n]||(i=0|16*Math.random(),r[n]=o[19==n?3&i|8:i])}return r.join("")}function L(){var e,t,n;return n=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t=function o(e,t){var r;for(r in e)if(e.hasOwnProperty(r)){if(n(e[r])&&n(t[r])&&o(e[r],t[r]),t.hasOwnProperty(r))continue;t[r]=e[r]}},e=function(){var e,o=arguments,r={};if(!o.length)return{};for(e=o.length-1;e>=0;e--)n(o[e])&&t(o[e],r);return o[0]=r,r}}function x(u){var c=document.location.href.replace(/&/g,"|"),h=document.referrer.replace(/&/g,"|");if(h=h.toLowerCase()){var g=p(h),f=l("lastsource");f&&s("lastsource",f,n()),(g.indexOf(".mi.com")<0||g.indexOf("s1.mi.com")>-1||g.indexOf("p.www.xiaomi.com")>-1||g.indexOf("a.union.mi.com")>-1)&&s("lastsource",g,n())}var v=l("xm_www_sid"),_=l("mstuid"),w=l("muuid"),L=l("mucid"),x=l("mutid"),C=l("mstz")||"";if(""===C||C.split("|").length<3){var E=[];E[0]="",E[1]="",E[2]=d().toString()+".0";var T="mstz",b=E.join("|");s(T,b,n())}C=l("mstz");var A=C.split("|")||[],k=(4==A.length?0:1,A[0]||""),O=A[1]||"",M=[];M=A[2].split(".");var N=M[0],j=parseInt(M[1])+1;A[2]=M[0]+"."+j.toString();var H=A[3]||"",D=A[4]||"",z=A[5]||"",I=0,P=encodeURIComponent(h);""==P&&(D="",z=""),P!=D&&c!=h?(z=D,D=P):""!=P&&(I=1),A[3]=H,A[4]=D,A[5]=z,s("mstz",A.join("|"),n());var q=l("lastsource"),$=0,V=new Date;V.setTime(V.getTime()+62208e6),""===_&&($=1,_=m()),s("mstuid",_,n(),V.toGMTString());var R="",B=new Date;u.curl=void 0===u.curl||""==u.curl?location.href:u.curl,u.xmv=y(_),void 0===u.vuuid&&(u.vuuid=S(16,32));var G=l("userId"),U="";return e&&(G||(G=t("get_encrypt_uid")),U=t("get_shop_deviceid")),R="mid="+(l("euid")||G)+"&device_id="+U+"&phpsessid="+v+"&mstuid="+_+"&muuid="+w+"&mucid="+L+"&sessionId="+N+"&step="+j+"&new_visitor="+$+"&mstprevpid="+encodeURIComponent(k)+"&mstprev_pid_loc="+H+"&prevtarget="+O+"&lastsource="+q+"&timestamp="+B.getTime()+"&ref="+P+"&domain="+n()+"&screen="+a()+"&language="+o()+"&vendor="+r()+"&platform="+i()+"&gu="+z+"&pu="+D+"&rf="+I+"&mutid="+x+"&muwd="+encodeURIComponent(l("muwd"))}function C(){var e=/\/(index.php|index.html|index.htm|index)$/,t=location.protocol+"//",n=location.host,o=location.pathname.replace(e,"/"),r=t+n+o;return md5("undefined"!=typeof _STAT_HASHNAME&&""!=_STAT_HASHNAME?_STAT_HASHNAME:r)}function E(){return"file.stat.be.xiaomi.com"==location.host?!0:!1}function T(e,t){var n="",o=!1,r="hash"==t?location.hash:location.search,i="hash"==t?"#":"?";if(0===r.length)return n;if(0==r.indexOf(i)&&r.indexOf("=")>1)for(var a=r.substring(1,r.length).split("&"),s=0;s<a.length&&!o;)a[s].indexOf("=")>0&&a[s].split("=")[0].toLowerCase()==e.toLowerCase()&&(n=a[s].split("=")[1],o=!0),s++;return n}function b(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}function A(e,t){var n=function(){switch(e.constructor){case Object:return"Object";case Array:return"Array";case NodeList:return"NodeList";default:return"null"}}();if("Array"===n||"NodeList"===n)[].every.call(e,function(e,n){return t.call(e,n,e)===!1?!1:!0});else if("Object"===n)for(var o in e)if(t.call(e[o],o,e[o])===!1)break}function k(e){for(var t=new RegExp("[`~!@#$^&*()=|{}:;\\[\\]<>?~！@#￥……&*（）——|{}【】‘；：”“。，、？]"),n="",o=0;o<e.length;o++)n+=e.substr(o,1).replace(t,"");return n}({locationObj:{protocol:location.protocol+"//",host:location.host,pathname:location.pathname}});return{isFun:f,getDomain:n,loadScript:v,in_array:_,creatScript:w,isApp:e,triggerString:t,getVars:h,sendData:g,_setCookie:s,removeBlanks:u,getLanguage:o,getVendor:r,getPlatform:i,getScreen:a,getRandomNum:d,getRefDomain:p,getCookie:l,getMstuid:m,uuid:S,getBaseParam:x,getPcid:C,isSnapshotModal:E,getLocationName:T,extend:L,getPropertyCount:b,each:A,trim:c,stripscript:k}}()}]);